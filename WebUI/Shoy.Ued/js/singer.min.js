/*! singer version:0.2.2 2015-04-10 17:34:28 */
var singer=window.SINGER=function(a){function b(a){var b={};for(var d in g)g.hasOwnProperty(d)&&!function(b,d){b[d]=function(b){return c.log(b,d,a)}}(b,d);return b}var c,d=this,e=0,f="",g={debug:10,info:20,warn:30,error:40};return c={__BUILD_TIME:"2014-10-04",Env:{host:d},Config:{debug:!0,loggerLevel:"debug",fns:{}},Version:"0.2.2",is:function(b,c){var d={NaN:1,Infinity:1,"-Infinity":1};return c=c.toLowerCase(),"finite"==c?!d.hasOwnProperty(+b):"array"==c?b instanceof Array:a===b&&"undefined"!==c?!1:"null"==c&&null===b||c==typeof b&&null!==b||"object"==c&&b===Object(b)||"array"==c&&Array.isArray&&Array.isArray(b)||Object.prototype.toString.call(b).slice(8,-1).toLowerCase()==c},isBoolean:function(a){return c.is(a,"boolean")},isDate:function(a){return c.is(a,"date")},isRegExp:function(a){return c.is(a,"regexp")},isObject:function(a){return c.is(a,"object")},isArray:function(a){return c.is(a,"array")},isNumber:function(a){return c.is(a,"number")},isFunction:function(a){return c.is(a,"function")},isNull:function(a){return c.is(a,"null")},isString:function(a){return c.is(a,"string")},isEmpty:function(a){return f===a||c.isNull(a)},isUndefined:function(a){return c.is(a,"undefined")},config:function(a,b){var d,e,f=this,g=c.Config,h=g.fns;if(c.isObject(a))for(var i in a)a.hasOwnProperty(i)&&(g[i]=a[i]);else d=h[a],c.isUndefined(b)?e=d?d.call(f):g[a]:d?e=d.call(f,b):g[a]=b;return e},log:function(b,d,e){if(!c.Config.debug)return a;if((g[c.Config.loggerLevel]||1e3)>g["log"==d?"debug":d])return"min level";var f=!1;return e&&(f=c.isObject(b),f||(b=e+": "+b)),"undefined"!=typeof console&&console.log?(f&&console[d&&console[d]?d:"log"](e+":"),console[d&&console[d]?d:"log"](b),b):void 0},getLogger:function(a){return b(a)},guid:function(a){return(a||"")+e++},_mix:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}},c.Logger={},c.Logger.Level={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"},c}();!function(a,b){var c=Array.prototype,d=c.indexOf,e=c.lastIndexOf,f=b,g=!1;a._mix(a,{each:function(b,c,d){if(b){var e,f,h,i=0,j=b&&b.length,k=a.isUndefined(j)||a.isFunction(b);if(d=d||null,k)for(h=a.keys(b);i<h.length&&(e=h[i],c.call(d,b[e],e,b)!==g);i++);else for(f=b[0];j>i&&c.call(d,f,i,b)!==g;f=b[++i]);}return b},index:function(a,b,c){if(d)return c===f?d.call(b,a):d.call(b,a,c);for(var e=c||0;e<b.length&&b[e]!==a;e++);return e},lastIndex:function(a,b,c){if(e)return c===f?e.call(b,a):e.call(b,a,c);c===f&&(c=b.length-1);for(var d=c;d>=0&&b[d]!==a;d--);return d},inArray:function(b,c){return a.index(b,c)>=0}})}(SINGER),function(a){var b=Date.prototype;b.addDays=b.addDays||function(a){return this.setDate(this.getDate()+a),this},b.format=b.format||function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a},a._mix(a,{nowTick:Date.now||function(){return+new Date},now:function(){return new Date(a.nowTick())},addDays:function(b,c){return a.isDate(b)?(c=a.isNumber(c)?c:0,new Date(b.addDays(c))):a.now()},formatDate:function(b,c){return a.isDate(b)?(c=c||"yyyy-MM-dd",b.format(c)):b}})}(SINGER),function(a){a._mix(a,{later:function(b,c,d,e,f){var g,h;return c=c||0,a.isString(b)&&(b=e[b]),b||a.error("fn is undefined"),h=function(){b.apply(e,f)},g=d?setInterval(h,c):setTimeout(h,c),{timer:g,isInterval:d,cancel:function(){this.isInterval?clearInterval(g):clearTimeout(g)}}}})}(SINGER),function(S){S.json=function(json){if(S.isEmpty(json))return json;if(S.isObject(json)){if(Date===json.constructor)return"'new Date("+json.valueOf()+")'";var fmt=function(a){return S.isObject(a)&&null!=a?S.json(a):S.isString(a)||S.isNumber(a)?"'"+a+"'":a},arr=[],arrItem;return S.isArray(json)?(S.each(json,function(a){S.isNumber(a)?arr.push(a):S.isString(a)?arr.push("'"+a+"'"):(arrItem=[],S.each(S.keys(a),function(b){arrItem.push("'"+b+"':"+fmt(a[b]))}),arr.push("{"+arrItem.join(",")+"}"))}),"["+arr.join(",")+"]"):(S.each(S.keys(json),function(a){arr.push("'"+a+"':"+fmt(json[a]))}),"{"+arr.join(",")+"}")}return S.isString(json)?(json=json.replace(/'(new Date\(\d+\))'/gi,"$1"),eval("("+json+")")):void 0}}(SINGER),function(a){function b(b,e,f,g,h,i){if(!e||!b)return e;var j,k,l,m;for(e[d]=b,i.push(e),l=a.keys(e),m=l.length,j=0;m>j;j++)k=l[j],k!==d&&c(k,b,e,f,g,h,i);return b}function c(c,e,f,g,h,i,j){if(g||!(c in e)||i){var k=e[c],l=f[c];if(k===l)return void(void 0===k&&(e[c]=k));if(h&&(l=h.call(f,c,l)),i&&l&&(a.isArray(l)||a.isObject(l)))if(l[d])e[c]=l[d];else{var m=k&&(a.isArray(k)||a.isObject(k))?k:a.isArray(l)?[]:{};e[c]=m,b(m,l,g,h,!0,j)}else void 0===l||!g&&c in e||(e[c]=l)}}var d="__MIX_CIRCULAR",e=!{toString:1}.propertyIsEnumerable("toString"),f=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","toLocaleString","valueOf"];a._mix(a,{keys:Object.keys||function(a){var b,c,d=[];for(b in a)a.hasOwnProperty(b)&&d.push(b);if(e)for(c=f.length-1;c>=0;c--)b=f[c],a.hasOwnProperty(b)&&d.push(b);return d},mix:function(c,e,f,g,h){if(f&&a.isObject(f)&&(g=f.whiteList,h=f.deep,f=f.overwrite),g&&!a.isFunction(g)){var i=g;g=function(b,c){return a.inArray(b,i)?c:void 0}}void 0===f&&(f=!0);var j,k=[],l=0;for(b(c,e,f,g,h,k);j=k[l++];)delete j[d];return c},clone:function(a){var b;b=a.constructor===Object?new a.constructor:new a.constructor(a.valueOf());for(var c in a)a.hasOwnProperty(c)&&b[c]!=a[c]&&(b[c]="object"==typeof a[c]?a[c].clone():a[c]);return b.toString=a.toString,b.valueOf=a.valueOf,b}})}(SINGER),function(a,b){var c=/^[\s\xa0]+|[\s\xa0]+$/g,d=String.prototype.trim,e=/\\?\{([^{}]+)\}/g,f="";a._mix(a,{trim:function(b){return a.isEmpty(b)?b:d?d.call(b):(b+"").replace(c,f)},lengthCn:function(b){return a.isString(b)?b.replace(/[\u4e00-\u9fa5]/g,"**").length:0},subCn:function(b,c,d){if(a.lengthCn(b)<=c)return b.toString();for(var e=0;e<b.length;e++)if(a.lengthCn(this.substr(0,e))>=c)return b.substr(0,e)+(d||"...");return b},stripTags:function(a){return a.replace(/<\/?[^>]+>/gi,"")},stripScript:function(a){return a.replace(/<script[^>]*>([\\S\\s]*?)<\/script>/g,"")},isMobile:function(b){return/^(1[3,5,8]\d{9})$/.test(a.trim(b))},isTelephone:function(b){return/((0[1-9]{2,3}[\s-]?)?\d{7,8})/gi.test(a.trim(b))},substitute:function(c,d,g){return a.isString(c)&&d?c.replace(g||e,function(a,c){return"\\"===a.charAt(0)?a.slice(1):d[c]===b?f:d[c]}):c},ucFirst:function(a){return a+="",a.charAt(0).toUpperCase()+a.substring(1)},startsWith:function(a,b){return 0===a.lastIndexOf(b,0)},endsWith:function(a,b){var c=a.length-b.length;return c>=0&&a.indexOf(b,c)===c},format:function(b){if(arguments.length<=1)return b||f;var c,d=b;if(2===arguments.length&&a.isObject(arguments[1]))for(var e in arguments[1])arguments[1].hasOwnProperty(e)&&(c=new RegExp("\\{"+e+"\\}","gi"),d=d.replace(c,arguments[1][e]));else for(var g=1;g<arguments.length;g++)c=new RegExp("\\{"+(g-1)+"\\}","gi"),d=d.replace(c,arguments[g]);return d}})}(SINGER),function(){}(SINGER),function(a){function b(a){var b=0;return parseFloat(a.replace(/\./g,function(){return 0===b++?".":""}))}function c(a,c){var d,e;c[d="trident"]=.1,(e=a.match(/Trident\/([\d.]*)/))&&e[1]&&(c[d]=b(e[1])),c.core=d}function d(a){var c,d;return(c=a.match(/MSIE ([^;]*)|Trident.*; rv(?:\s|:)?([0-9.]+)/))&&(d=c[1]||c[2])?b(d):0}function e(a){var e,f,h,i,j,k="",l=k,m=k,n=[6,9],o="{{version}}",p="<!--[if IE "+o+"]><s></s><![endif]-->",q=g&&g.createElement("div"),r=[],s={webkit:void 0,trident:void 0,gecko:void 0,presto:void 0,chrome:void 0,safari:void 0,firefox:void 0,ie:void 0,ieMode:void 0,opera:void 0,mobile:void 0,core:void 0,shell:void 0,phantomjs:void 0,os:void 0,ipad:void 0,iphone:void 0,ipod:void 0,ios:void 0,android:void 0,nodejs:void 0};if(q&&q.getElementsByTagName&&(q.innerHTML=p.replace(o,""),r=q.getElementsByTagName("s")),r.length>0){for(c(a,s),i=n[0],j=n[1];j>=i;i++)if(q.innerHTML=p.replace(o,i),r.length>0){s[m="ie"]=i;break}!s.ie&&(h=d(a))&&(s[m="ie"]=h)}else(f=a.match(/AppleWebKit\/([\d.]*)/))&&f[1]?(s[l="webkit"]=b(f[1]),(f=a.match(/OPR\/(\d+\.\d+)/))&&f[1]?s[m="opera"]=b(f[1]):(f=a.match(/Chrome\/([\d.]*)/))&&f[1]?s[m="chrome"]=b(f[1]):(f=a.match(/\/([\d.]*) Safari/))&&f[1]&&(s[m="safari"]=b(f[1])),/ Mobile\//.test(a)&&a.match(/iPad|iPod|iPhone/)?(s.mobile="apple",f=a.match(/OS ([^\s]*)/),f&&f[1]&&(s.ios=b(f[1].replace("_","."))),e="ios",f=a.match(/iPad|iPod|iPhone/),f&&f[0]&&(s[f[0].toLowerCase()]=s.ios)):/ Android/i.test(a)?(/Mobile/.test(a)&&(e=s.mobile="android"),f=a.match(/Android ([^\s]*);/),f&&f[1]&&(s.android=b(f[1]))):(f=a.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))&&(s.mobile=f[0].toLowerCase()),(f=a.match(/PhantomJS\/([^\s]*)/))&&f[1]&&(s.phantomjs=b(f[1]))):(f=a.match(/Presto\/([\d.]*)/))&&f[1]?(s[l="presto"]=b(f[1]),(f=a.match(/Opera\/([\d.]*)/))&&f[1]&&(s[m="opera"]=b(f[1]),(f=a.match(/Opera\/.* Version\/([\d.]*)/))&&f[1]&&(s[m]=b(f[1])),(f=a.match(/Opera Mini[^;]*/))&&f?s.mobile=f[0].toLowerCase():(f=a.match(/Opera Mobi[^;]*/))&&f&&(s.mobile=f[0]))):(h=d(a))?(s[m="ie"]=h,c(a,s)):(f=a.match(/Gecko/))&&(s[l="gecko"]=.1,(f=a.match(/rv:([\d.]*)/))&&f[1]&&(s[l]=b(f[1]),/Mobile|Tablet/.test(a)&&(s.mobile="firefox")),(f=a.match(/Firefox\/([\d.]*)/))&&f[1]&&(s[m="firefox"]=b(f[1])));return e||(/windows|win32/i.test(a)?e="windows":/macintosh|mac_powerpc/i.test(a)?e="macintosh":/linux/i.test(a)?e="linux":/rhino/i.test(a)&&(e="rhino")),s.os=e,s.core=s.core||l,s.shell=m,s.ieMode=s.ie&&g.documentMode||s.ie,s}var f=a.Env.host,g=f.document,h=f.navigator,i=h&&h.userAgent||"",j=SINGER.UA=e(i);if("object"==typeof process){var k,l;(k=process.versions)&&(l=k.node)&&(j.os=process.platform,j.nodejs=b(l))}j.getDescriptorFromUserAgent=e}(SINGER),function(a){var b=/^(\/?)([\s\S]+\/(?!$)|\/)?((?:\.{1,2}$|[\s\S]+?)?(\.[^.\/]*)?)$/;a._mix(a,{uri:function(a){var b,c=[];if(b=a?a+"":location.search,b.indexOf("?")>=0&&(b=b.substring(1)),b&&(b=b.split("&")),b.length>0)for(var d=0;d<b.length;d++){var e=b[d].split("=");c[e[0]]=decodeURIComponent(e[1])}return c},cookie:{set:function(b,c,d,e){if("string"==typeof b&&""!==a.trim(b)){var f=b+"="+encodeURI(c);if("number"==typeof d&&d>0){var g=(new Date).getTime()+6e4*d;f+=";expires="+new Date(g).toGMTString()}"string"==typeof e&&(f+=";domain="+e),document.cookie=f+"; path=/"}},get:function(a){var b=document.cookie,c=a+"=",d=b.indexOf("; "+c);if(-1==d){if(d=b.indexOf(c),0!=d)return null}else d+=2;var e=b.indexOf(";",d);return-1==e&&(e=b.length),decodeURI(b.substring(d+c.length,e))},clear:function(a,b){this.get(a)&&(document.cookie=a+"="+(b?"; domain="+b:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT")}},stringify:function(b){if(!b||b.length||!a.isObject(b))return"";var c=[];return a.each(a.keys(b),function(d){var e=b[d];c.push(a.isObject(e)||a.isArray(e)?d+"="+encodeURIComponent(a.json(e)):d+"="+encodeURIComponent(e))}),c.join("&")},ext:function(a){return(a.match(b)||[])[4]||""}})}(SINGER),function(b){var c=1e3,d=document,e=b.UA,f=d.getElementsByTagName("head")[0]||d.documentElement,g={};b._mix(b,{currentScript:function(){if(document.currentScript)return document.currentScript.src;var b;try{a.b.c()}catch(c){b=c.stack,!b&&window.opera&&(b=(String(c).match(/of linked script \S+/g)||[]).join(" "))}if(b)return b=b.split(/[@ ]/g).pop(),b="("==b[0]?b.slice(1,-1):b,b.replace(/(:\d+)?:\d+$/i,"");for(var d,e=document.getElementsByTagName("script"),f=0;d=e[f++];)if("interactive"===d.readyState)return d.className=d.src},loadScript:function(a,h,i){function j(){var a=r.readyState;a&&"loaded"!==a&&"complete"!==a||(r.onreadystatechange=r.onload=null,t(0))}var k,l,m,n,o,p=h,q=0;if(b.startsWith(b.ext(a).toLowerCase(),".css")&&(q=1),b.isObject(p)&&(h=p.success,k=p.error,l=p.attrs,m=p.timeout,i=p.charset),n=g[a]=g[a]||[],n.push([h,k]),n.length>1)return n.node;var r=d.createElement(q?"link":"script"),s=function(){o&&(o.cancel(),o=void 0)};l&&b.each(l,function(a,c){var d=c.toLowerCase();"async"!=d||b.isUndefined(r.async)?r.setAttribute(c,a):r.async=a}),i&&(r.charset=i),q?(r.href=a,r.rel="stylesheet"):(r.src=a,r.async=!0),n.node=r;var t=function(c){var d,e=c;s(),b.each(g[a],function(a){(d=a[e])&&d.call(r)}),delete g[a]},u="onload"in r,v=b.Config.forceCssPoll||e.webkit&&e.webkit<536;return q&&v&&u&&(u=!1),u?(r.onload=j,r.onerror=function(){r.onerror=null,t(1)}):q||(r.onreadystatechange=j),m&&(o=b.later(function(){t(1)},m*c)),q?f.appendChild(r):f.insertBefore(r,f.firstChild),r}})}(SINGER);