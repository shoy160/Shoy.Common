/*! singer version:0.1.0 2014-04-14 12:42:51 */
var singer=window.SINGER=function(a){function b(a){var b={};for(var d in g)!function(b,d){b[d]=function(b){return c.log(b,d,a)}}(b,d);return b}var c,d=this,e=0,f="",g={debug:10,info:20,warn:30,error:40};return c={__BUILD_TIME:"@TIME@",Env:{host:d},Config:{debug:"@DEBUG@",fns:{}},Version:"@VERSION@",is:function(b,c){var d={NaN:1,Infinity:1,"-Infinity":1};return c=c.toLowerCase(),"finite"==c?!d.hasOwnProperty(+b):"array"==c?b instanceof Array:a===b&&"undefined"!==c?!1:"null"==c&&null===b||c==typeof b&&null!==b||"object"==c&&b===Object(b)||"array"==c&&Array.isArray&&Array.isArray(b)||Object.prototype.toString.call(b).slice(8,-1).toLowerCase()==c},isBoolean:function(a){return c.is(a,"boolean")},isDate:function(a){return c.is(a,"date")},isRegExp:function(a){return c.is(a,"regexp")},isObject:function(a){return c.is(a,"object")},isArray:function(a){return c.is(a,"array")},isNumber:function(a){return c.is(a,"number")},isFunction:function(a){return c.is(a,"function")},isNull:function(a){return c.is(a,"null")},isString:function(a){return c.is(a,"string")},isEmpty:function(a){return f===a||c.isNull(a)},config:function(b,d){var e,f,g=this,h=c.Config,i=h.fns;if(c.isObject(b))for(var j in b)h[j]=b[j];else e=i[b],d===a?f=e?e.call(g):h[b]:e?f=e.call(g,d):h[b]=d;return f},log:function(b,d,e){var f=!1;return e&&(f=c.isObject(b),f||(b=e+": "+b)),"undefined"!=typeof console&&console.log?(f&&console[d&&console[d]?d:"log"](e+":"),console[d&&console[d]?d:"log"](b),b):a},getLogger:function(a){return b(a)},guid:function(a){return(a||"")+e++},_mix:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}},c.Logger={},c.Logger.Level={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"},c}();!function(a,b){var c=Array.prototype,d=c.indexOf,e=c.lastIndexOf,f=b;a._mix(a,{index:function(a,b,c){if(d)return c===f?d.call(b,a):d.call(b,a,c);for(var e=c||0;e<b.length&&b[e]!==a;e++);return e},lastIndex:function(a,b,c){if(e)return c===f?e.call(b,a):e.call(b,a,c);c===f&&(c=b.length-1);for(var d=c;d>=0&&b[d]!==a;d--);return d},inArray:function(b,c){return a.index(b,c)>=0}})}(SINGER),function(a){var b=Date.prototype;b.addDays=b.addDays||function(a){return this.setDate(this.getDate()+a),this},b.format=b.format||function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a},a._mix(a,{nowTick:Date.now||function(){return+new Date},now:function(){return new Date(a.nowTick())},addDays:function(b,c){return a.isDate(b)?(c=a.isNumber(c)?c:0,new Date(b.addDays(c))):a.now()},formatDate:function(b,c){return a.isDate(b)?(c=c||"yyyy-MM-dd",b.format(c)):b}})}(SINGER),function(S){S.json=function(json){if(S.isEmpty(json))return json;if(S.isObject(json)){if(Date===json.constructor)return"'new Date("+json.valueOf()+")'";var fmt=function(a){return S.isObject(a)&&null!=a?S.json(a):S.isString(a)||S.isNumber(a)?"'"+a+"'":a},arr=[],arrItem,jsonItem;if(S.isArray(json)){for(var i=0;i<json.length;i++)if(jsonItem=json[i],S.isNumber(jsonItem))arr.push(jsonItem);else if(S.isString(jsonItem))arr.push("'"+jsonItem+"'");else{arrItem=[];for(var j in jsonItem)arrItem.push("'"+j+"':"+fmt(jsonItem[j]));arr.push("{"+arrItem.join(",")+"}")}return"["+arr.join(",")+"]"}for(var i in json)arr.push("'"+i+"':"+fmt(json[i]));return"{"+arr.join(",")+"}"}return S.isString(json)?(json=json.replace(/'(new Date\(\d+\))'/gi,"$1"),eval("("+json+")")):void 0}}(SINGER),function(a){function b(b,e,f,g,h,i){if(!e||!b)return e;var j,k,l,m;for(e[d]=b,i.push(e),l=a.keys(e),m=l.length,j=0;m>j;j++)k=l[j],k!==d&&c(k,b,e,f,g,h,i);return b}function c(c,e,f,g,h,i,j){if(g||!(c in e)||i){var k=e[c],l=f[c];if(k===l)return void(void 0===k&&(e[c]=k));if(h&&(l=h.call(f,c,l)),i&&l&&(a.isArray(l)||a.isObject(l)))if(l[d])e[c]=l[d];else{var m=k&&(a.isArray(k)||a.isObject(k))?k:a.isArray(l)?[]:{};e[c]=m,b(m,l,g,h,!0,j)}else void 0===l||!g&&c in e||(e[c]=l)}}var d="__MIX_CIRCULAR",e=!{toString:1}.propertyIsEnumerable("toString"),f=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","toLocaleString","valueOf"];a._mix(a,{keys:Object.keys||function(a){var b,c,d=[];for(b in a)a.hasOwnProperty(b)&&d.push(b);if(e)for(c=f.length-1;c>=0;c--)b=f[c],a.hasOwnProperty(b)&&d.push(b);return d},mix:function(c,e,f,g,h){if(f&&a.isObject(f)&&(g=f.whiteList,h=f.deep,f=f.overwrite),g&&!a.isFunction(g)){var i=g;g=function(b,c){return a.inArray(b,i)?c:void 0}}void 0===f&&(f=!0);var j,k=[],l=0;for(b(c,e,f,g,h,k);j=k[l++];)delete j[d];return c},clone:function(a){var b;b=a.constructor===Object?new a.constructor:new a.constructor(a.valueOf());for(var c in a)a.hasOwnProperty(c)&&b[c]!=a[c]&&(b[c]="object"==typeof a[c]?a[c].clone():a[c]);return b.toString=a.toString,b.valueOf=a.valueOf,b}})}(SINGER),function(a,b){var c=/^[\s\xa0]+|[\s\xa0]+$/g,d=String.prototype.trim,e=/\\?\{([^{}]+)\}/g,f="";a.trim=function(b){return a.isEmpty(b)?b:d?d.call(b):(b+"").replace(c,f)},a.substitute=function(c,d,g){return a.isString(c)&&d?c.replace(g||e,function(a,c){return"\\"===a.charAt(0)?a.slice(1):d[c]===b?f:d[c]}):c},a.ucFirst=function(a){return a+="",a.charAt(0).toUpperCase()+a.substring(1)},a.startsWith=function(a,b){return 0===a.lastIndexOf(b,0)},a.endsWith=function(a,b){var c=a.length-b.length;return c>=0&&a.indexOf(b,c)===c},a.format=function(b){if(arguments.length<=1)return b||f;var c=b;if(2===arguments.length&&a.isObject(arguments[1]))for(var d in arguments[1]){var e=new RegExp("\\{"+d+"\\}","gi");c=c.replace(e,arguments[1][d])}else for(var g=1;g<arguments.length;g++){var e=new RegExp("\\{"+(g-1)+"\\}","gi");c=c.replace(e,arguments[g])}return c}}(SINGER),function(){}(SINGER),function(a){a.uri=function(a){var b,c=[];if(b=a?a+"":location.search,b.indexOf("?")>=0&&(b=b.substring(1)),b&&(b=b.split("&")),b.length>0)for(var d=0;d<b.length;d++){var e=b[d].split("=");c[e[0]]=decodeURIComponent(e[1])}return c}}(SINGER);