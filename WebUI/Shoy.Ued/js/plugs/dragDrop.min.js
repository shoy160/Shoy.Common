/*! tjzx.ued version:0.1.0 2014-05-10 09:49:49 */
var Drag=function(a){var b=a(window),c=a(document),d="createTouch"in document,e=document.documentElement,f=!("minWidth"in e.style),g=!f&&"onlosecapture"in e,h="setCapture"in e,i={start:d?"touchstart":"mousedown",over:d?"touchmove":"mousemove",end:d?"touchend":"mouseup"},j=d?function(a){return a.touches||(a=a.originalEvent.touches.item(0)),a}:function(a){return a},k=function(){this.start=a.proxy(this.start,this),this.over=a.proxy(this.over,this),this.end=a.proxy(this.end,this),this.onstart=this.onover=this.onend=a.noop};return k.types=i,k.prototype={start:function(a){return a=this.startFix(a),c.on(i.over,this.over).on(i.end,this.end),this.onstart(a),!1},over:function(a){return a=this.overFix(a),this.onover(a),!1},end:function(a){return a=this.endFix(a),c.off(i.over,this.over).off(i.end,this.end),this.onend(a),!1},startFix:function(d){return d=j(d),this.target=a(d.target),this.selectstart=function(){return!1},c.on("selectstart",this.selectstart).on("dblclick",this.end),g?this.target.on("losecapture",this.end):b.on("blur",this.end),h&&this.target[0].setCapture(),d},overFix:function(a){return a=j(a)},endFix:function(a){return a=j(a),c.off("selectstart",this.selectstart).off("dblclick",this.end),g?this.target.off("losecapture",this.end):b.off("blur",this.end),h&&this.target[0].releaseCapture(),a}},k.create=function(d,e){var f,g,h,i,j=a(d),l=new k,m=k.types.start,n=function(){},o=j.attr("class").replace(/^\s|\s.*/g,"")+"-drag-start",p={onstart:n,onover:n,onend:n,off:function(){j.off(m,l.start)}};return l.onstart=function(a){var e="fixed"===j.css("position"),k=c.scrollLeft(),l=c.scrollTop(),m=j.width(),n=j.height();f=0,g=0,h=e?b.width()-m+f:c.width()-m,i=e?b.height()-n+g:c.height()-n;var q=j.offset(),r=this.startLeft=e?q.left-k:q.left,s=this.startTop=e?q.top-l:q.top;this.clientX=a.clientX,this.clientY=a.clientY,j.addClass(o),p.onstart.call(d,a,r,s)},l.onover=function(a){var b=a.clientX-this.clientX+this.startLeft,c=a.clientY-this.clientY+this.startTop,e=j[0].style;b=Math.max(f,Math.min(h,b)),c=Math.max(g,Math.min(i,c)),e.left=b+"px",e.top=c+"px",p.onover.call(d,a,b,c)},l.onend=function(a){var b=j.position(),c=b.left,e=b.top;j.removeClass(o),p.onend.call(d,a,c,e)},l.off=function(){j.off(m,l.start)},e?l.start(e):j.on(m,l.start),p},k}(jQuery);!function(a){a.fn.extend({drag:function(b){var c=a.extend({handler:null},b||{});return this.each(function(){var b=a(this),d=c.handler?a(c.handler,b):b;d.bind(Drag.types.start,function(a){Drag.create(b,a)})})}})}(jQuery);