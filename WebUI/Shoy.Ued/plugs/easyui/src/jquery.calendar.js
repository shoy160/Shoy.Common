/*! tjzx.ued version:0.1.0 2014-05-10 09:49:49 */
!function(a){function b(b){var c=a.data(b,"calendar").options,d=a(b);c.fit?a.extend(c,d._fit()):d._fit(!1);var e=d.find(".calendar-header");d._outerWidth(c.width),d._outerHeight(c.height),d.find(".calendar-body")._outerHeight(d.height()-e._outerHeight())}function c(c){a(c).addClass("calendar").html('<div class="calendar-header"><div class="calendar-prevmonth"></div><div class="calendar-nextmonth"></div><div class="calendar-prevyear"></div><div class="calendar-nextyear"></div><div class="calendar-title"><span>Aprial 2010</span></div></div><div class="calendar-body"><div class="calendar-menu"><div class="calendar-menu-year-inner"><span class="calendar-menu-prev"></span><span><input class="calendar-menu-year" type="text"></input></span><span class="calendar-menu-next"></span></div><div class="calendar-menu-month-inner"></div></div></div>'),a(c).find(".calendar-title span").hover(function(){a(this).addClass("calendar-menu-hover")},function(){a(this).removeClass("calendar-menu-hover")}).click(function(){var b=a(c).find(".calendar-menu");b.is(":visible")?b.hide():f(c)}),a(".calendar-prevmonth,.calendar-nextmonth,.calendar-prevyear,.calendar-nextyear",c).hover(function(){a(this).addClass("calendar-nav-hover")},function(){a(this).removeClass("calendar-nav-hover")}),a(c).find(".calendar-nextmonth").click(function(){d(c,1)}),a(c).find(".calendar-prevmonth").click(function(){d(c,-1)}),a(c).find(".calendar-nextyear").click(function(){e(c,1)}),a(c).find(".calendar-prevyear").click(function(){e(c,-1)}),a(c).bind("_resize",function(){var d=a.data(c,"calendar").options;return 1==d.fit&&b(c),!1})}function d(b,c){var d=a.data(b,"calendar").options;d.month+=c,d.month>12?(d.year++,d.month=1):d.month<1&&(d.year--,d.month=12),h(b);var e=a(b).find(".calendar-menu-month-inner");e.find("td.calendar-selected").removeClass("calendar-selected"),e.find("td:eq("+(d.month-1)+")").addClass("calendar-selected")}function e(b,c){var d=a.data(b,"calendar").options;d.year+=c,h(b);var e=a(b).find(".calendar-menu-year");e.val(d.year)}function f(b){function c(){var c=a(b).find(".calendar-menu"),e=c.find(".calendar-menu-year").val(),f=c.find(".calendar-selected").attr("abbr");isNaN(e)||(d.year=parseInt(e),d.month=parseInt(f),h(b)),c.hide()}var d=a.data(b,"calendar").options;if(a(b).find(".calendar-menu").show(),a(b).find(".calendar-menu-month-inner").is(":empty")){a(b).find(".calendar-menu-month-inner").empty();for(var e=a("<table></table>").appendTo(a(b).find(".calendar-menu-month-inner")),f=0,g=0;3>g;g++)for(var i=a("<tr></tr>").appendTo(e),j=0;4>j;j++)a('<td class="calendar-menu-month"></td>').html(d.months[f++]).attr("abbr",f).appendTo(i);a(b).find(".calendar-menu-prev,.calendar-menu-next").hover(function(){a(this).addClass("calendar-menu-hover")},function(){a(this).removeClass("calendar-menu-hover")}),a(b).find(".calendar-menu-next").click(function(){var c=a(b).find(".calendar-menu-year");isNaN(c.val())||c.val(parseInt(c.val())+1)}),a(b).find(".calendar-menu-prev").click(function(){var c=a(b).find(".calendar-menu-year");isNaN(c.val())||c.val(parseInt(c.val()-1))}),a(b).find(".calendar-menu-year").keypress(function(a){13==a.keyCode&&c()}),a(b).find(".calendar-menu-month").hover(function(){a(this).addClass("calendar-menu-hover")},function(){a(this).removeClass("calendar-menu-hover")}).click(function(){var d=a(b).find(".calendar-menu");d.find(".calendar-selected").removeClass("calendar-selected"),a(this).addClass("calendar-selected"),c()})}var k=a(b).find(".calendar-body"),l=a(b).find(".calendar-menu"),m=l.find(".calendar-menu-year-inner"),n=l.find(".calendar-menu-month-inner");m.find("input").val(d.year).focus(),n.find("td.calendar-selected").removeClass("calendar-selected"),n.find("td:eq("+(d.month-1)+")").addClass("calendar-selected"),l._outerWidth(k._outerWidth()),l._outerHeight(k._outerHeight()),n._outerHeight(l.height()-m._outerHeight())}function g(b,c,d){for(var e=a.data(b,"calendar").options,f=[],g=new Date(c,d,0).getDate(),h=1;g>=h;h++)f.push([c,d,h]);for(var i=[],j=[],k=-1;f.length>0;){var l=f.shift();j.push(l);var m=new Date(l[0],l[1]-1,l[2]).getDay();k==m?m=0:m==(0==e.firstDay?7:e.firstDay)-1&&(i.push(j),j=[]),k=m}j.length&&i.push(j);var n=i[0];if(n.length<7)for(;n.length<7;){var o=n[0],l=new Date(o[0],o[1]-1,o[2]-1);n.unshift([l.getFullYear(),l.getMonth()+1,l.getDate()])}else{for(var o=n[0],j=[],h=1;7>=h;h++){var l=new Date(o[0],o[1]-1,o[2]-h);j.unshift([l.getFullYear(),l.getMonth()+1,l.getDate()])}i.unshift(j)}for(var p=i[i.length-1];p.length<7;){var q=p[p.length-1],l=new Date(q[0],q[1]-1,q[2]+1);p.push([l.getFullYear(),l.getMonth()+1,l.getDate()])}if(i.length<6){for(var q=p[p.length-1],j=[],h=1;7>=h;h++){var l=new Date(q[0],q[1]-1,q[2]+h);j.push([l.getFullYear(),l.getMonth()+1,l.getDate()])}i.push(j)}return i}function h(b){var c=a.data(b,"calendar").options;a(b).find(".calendar-title span").html(c.months[c.month-1]+" "+c.year);var d=a(b).find("div.calendar-body");d.find(">table").remove();for(var e=a('<table cellspacing="0" cellpadding="0" border="0"><thead></thead><tbody></tbody></table>').prependTo(d),f=a("<tr></tr>").appendTo(e.find("thead")),h=c.firstDay;h<c.weeks.length;h++)f.append("<th>"+c.weeks[h]+"</th>");for(var h=0;h<c.firstDay;h++)f.append("<th>"+c.weeks[h]+"</th>");for(var i=g(b,c.year,c.month),h=0;h<i.length;h++)for(var j=i[h],f=a("<tr></tr>").appendTo(e.find("tbody")),k=0;k<j.length;k++){var l=j[k];a('<td class="calendar-day calendar-other-month"></td>').attr("abbr",l[0]+","+l[1]+","+l[2]).html(l[2]).appendTo(f)}e.find('td[abbr^="'+c.year+","+c.month+'"]').removeClass("calendar-other-month");var m=new Date,n=m.getFullYear()+","+(m.getMonth()+1)+","+m.getDate();if(e.find('td[abbr="'+n+'"]').addClass("calendar-today"),c.current){e.find(".calendar-selected").removeClass("calendar-selected");var o=c.current.getFullYear()+","+(c.current.getMonth()+1)+","+c.current.getDate();e.find('td[abbr="'+o+'"]').addClass("calendar-selected")}var p=6-c.firstDay,q=p+1;p>=7&&(p-=7),q>=7&&(q-=7),e.find("tr").find("td:eq("+p+")").addClass("calendar-saturday"),e.find("tr").find("td:eq("+q+")").addClass("calendar-sunday"),e.find("td").hover(function(){a(this).addClass("calendar-hover")},function(){a(this).removeClass("calendar-hover")}).click(function(){e.find(".calendar-selected").removeClass("calendar-selected"),a(this).addClass("calendar-selected");var d=a(this).attr("abbr").split(",");c.current=new Date(d[0],parseInt(d[1])-1,d[2]),c.onSelect.call(b,c.current)})}a.fn.calendar=function(d,e){return"string"==typeof d?a.fn.calendar.methods[d](this,e):(d=d||{},this.each(function(){var e=a.data(this,"calendar");e?a.extend(e.options,d):(e=a.data(this,"calendar",{options:a.extend({},a.fn.calendar.defaults,a.fn.calendar.parseOptions(this),d)}),c(this)),0==e.options.border&&a(this).addClass("calendar-noborder"),b(this),h(this),a(this).find("div.calendar-menu").hide()}))},a.fn.calendar.methods={options:function(b){return a.data(b[0],"calendar").options},resize:function(a){return a.each(function(){b(this)})},moveTo:function(b,c){return b.each(function(){a(this).calendar({year:c.getFullYear(),month:c.getMonth()+1,current:c})})}},a.fn.calendar.parseOptions=function(b){a(b);return a.extend({},a.parser.parseOptions(b,["width","height",{firstDay:"number",fit:"boolean",border:"boolean"}]))},a.fn.calendar.defaults={width:180,height:180,fit:!1,border:!0,firstDay:0,weeks:["S","M","T","W","T","F","S"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],year:(new Date).getFullYear(),month:(new Date).getMonth()+1,current:new Date,onSelect:function(){}}}(jQuery);